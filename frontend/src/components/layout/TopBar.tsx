import { ModelInfo, ModelType, ViewMode, AppMode } from "../../types";

type Props = { mode: AppMode; onModeChange: (m: AppMode) => void; view: ViewMode; onViewChange: (v: ViewMode) => void; activeModel: ModelType; availableModels: ModelType[]; onModelSwitch: (m: ModelType) => void; modelInfo: ModelInfo; onPresentationStart: () => void; backendOnline: boolean };

export default function TopBar({ mode, onModeChange, view, onViewChange, activeModel, availableModels, onModelSwitch, modelInfo, onPresentationStart, backendOnline }: Props) {
  const canCompare = availableModels.length > 1;
  return <header className="top-bar"><div className="logo">Neural Network Visualizer</div><div className="toggle-group"><button onClick={() => onModeChange("predict")} className={mode === "predict" ? "active" : ""}>Predict</button><button onClick={() => onModeChange("train")} className={mode === "train" ? "active" : ""}>Train</button></div><div className="toggle-group">{(["ann", "cnn", "rnn"] as ModelType[]).map(m => <button key={m} disabled={!availableModels.includes(m)} className={activeModel === m ? "active" : ""} onClick={() => onModelSwitch(m)}>{m.toUpperCase()}</button>)}</div><div className="toggle-group"><button onClick={() => onViewChange("2d")} className={view === "2d" ? "active" : ""}>2D</button><button onClick={() => onViewChange("3d")} disabled={activeModel !== "ann"} className={view === "3d" ? "active" : ""}>3D</button><button onClick={() => onViewChange("compare")} disabled={!canCompare} className={view === "compare" ? "active" : ""}>Compare</button></div><div className="top-right"><span className="badge">{modelInfo.model_type.toUpperCase()} • {(modelInfo.layers || []).length} layers • {backendOnline ? "online" : "offline"}</span><button className="btn present" onClick={onPresentationStart}>▶ Present</button></div></header>;
}
